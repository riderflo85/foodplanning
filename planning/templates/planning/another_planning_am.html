{% extends 'planning/base.html' %}

{% block content %}
{% load static %}
{% if user.is_authenticated %}

<section class="define-size">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12 text-center pos-button">
                <div class="d-flex justify-content-between px-3">
                    <a href="{% url 'planning:planning' %}" class="btn btn-primary" id="goBack">Retour</a>
                </div>
            </div>
        </div>
    </div>

    <!-- If plannig does not exist -->
    {% if not planning_exist %}
    <div class="container-fluid define-size-2 z-index-block" id="notPlanning">
        <div class="row h-100">
            <div class="col-12 h-100 text-center" id="divContent">
                <h2 class="text-warning" id="messageNotPlanning">Aucun planning n'a été créé pour cet utilisateur.</h2>
            </div>
        </div>
    </div>
     <!-- If planning exist -->
    {% else %}
    <div class="container-fluid define-size-2 z-index-block">
        <div class="row h-100">
            <div class="col-12 col-lg-10 offset-lg-1 h-100" id="divContent">
                <p class="lead text-white mt-5 animated fadeIn" id="userPlanning{{ other_user.id }}">Planning du midi pour {{other_user.first_name}}</p>
                <table class="table table-striped table-dark animated fadeIn" id="table{{ other_user.id }}">
                    <thead>
                        <tr class="text-center">
                            <th scope="col">Lundi</th>
                            <th scope="col">Mardi</th>
                            <th scope="col">Mercredi</th>
                            <th scope="col">Jeudi</th>
                            <th scope="col">Vendredi</th>
                            <th scope="col">Samedi</th>
                            <th scope="col">Dimanche</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="text-center">
                            <td id="plat-lu-pl-1">{{ planning.monday }}</td>
                            <td id="plat-ma-pl-1">{{ planning.tuesday }}</td>
                            <td id="plat-me-pl-1">{{ planning.wednesday }}</td>
                            <td id="plat-je-pl-1">{{ planning.thursday }}</td>
                            <td id="plat-ve-pl-1">{{ planning.friday }}</td>
                            <td id="plat-sa-pl-1">{{ planning.saturday }}</td>
                            <td id="plat-di-pl-1">{{ planning.sunday }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>  <!-- end .col-12 -->
        </div> <!-- end .row -->
    </div> <!-- end .container-fluid -->
    {% endif %}
</section>

{% else %}
<section class="define-size">
    <div class="container-fluid h-100">
        <div class="row h-100">
            <div class="col-12 text-center h-100 d-flex justify-content-center align-items-center">
                <h1 class="text-danger"><strong>Merci de vous <a href="{% url 'usercontrol:sign_in' %}" class="link text-warning">connectez</a> pour pouvoir avoir accès au fonctionnalitées de l'application web.</strong></h1>
            </div>
        </div>
    </div>
</section>
{% endif %}

{% endblock content %}